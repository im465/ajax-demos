<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>AJAX demo 3</title>
	</head>
	<body>
		<div id="number"></div>
		<button id="btn">Get me a random number</button>
		<script>
		
		var btn = document.getElementById('btn');
		
		btn.addEventListener('click', function() {
			var request = new XMLHttpRequest();
			request.onreadystatechange = function() {
				var DONE = this.DONE || 4;
				if (this.readyState === DONE) {
					var number = document.getElementById('number');
					number.innerHTML = request.responseText;
				}
			};
			request.open('POST', 'number.php', true);
			request.setRequestHeader('Content-Type', 'application/x-www-urlencoded');
			request.setRequestHeader('X-Requested-With', 'XMLHttpRequest');
			request.send('max=10000');
			
			/* Oh hey, this doesn't work for some reason?? */
			
		}, false);
		
		</script>
	</body>
</html>
